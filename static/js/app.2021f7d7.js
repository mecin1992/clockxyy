(self["webpackChunkvue2_template_for_pc"]=self["webpackChunkvue2_template_for_pc"]||[]).push([[143],{9102:function(e,t,a){"use strict";var n=a(144),o=a(4720),s=a.n(o),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],u={name:"App"},c=u,l=a(1001),m=(0,l.Z)(c,r,i,!1,null,null,null),d=m.exports,p=a(5648),h=a(9750);s().MessageBox.setDefaults({closeOnClickModal:!1}),s().Table.props.maxHeight={default:"600",type:[Number,String]},s().Table.props.border={default:!0,type:Boolean},s().TableColumn.props.align={default:"left",type:String},s().TableColumn.props.showOverflowTooltip={default:!0,type:Boolean},s().TableColumn.props.minWidth={default:"80",type:String},n["default"].use(s()),n["default"].config.productionTip=!1,new n["default"]({el:"#app",router:h.ZP,store:p.Z,render:e=>e(d)})},9750:function(e,t,a){"use strict";a.d(t,{aP:function(){return m},WC:function(){return l},ZP:function(){return h}});var n=a(144),o=a(8345);const s=()=>a.e(727).then(a.bind(a,4727));var r=[{path:"/redirect",component:s,children:[{path:"/redirect/:path(.*)",name:"redirect",component:()=>a.e(465).then(a.bind(a,3465))}]}];const i=()=>a.e(727).then(a.bind(a,4727)),u=()=>a.e(0).then(a.bind(a,0));var c=[{path:"/",redirect:"/home"},{path:"/home",component:i,meta:{title:"工作台"},children:[{path:"",name:"home",component:u,meta:{title:"首页",activeMenu:"home",affix:!0}}]}];n["default"].use(o.ZP);const l=[...r,...c],m=[],d=()=>new o.ZP({scrollBehavior:()=>({y:0}),routes:[...l,...m]}),p=d();var h=p},3126:function(e){e.exports={title:"后台管理系统"}},5648:function(e,t,a){"use strict";a.d(t,{Z:function(){return F}});var n=a(144),o=a(629);const s={sidebar:e=>e.app.sidebar,token:e=>e.account.token};var r=s;const i=e=>{const t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(a){return t}},u=(e,t)=>{"object"===typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},c=e=>{window.localStorage.removeItem(e)},l="ADMIN-TOKEN",m="ADMIN-COLLAPSE",d={title:"后台管理系统",authorization:i(l),sidebar:{collapse:i(m)},device:"desktop"},p={TOGGLE_SIDEBAR:e=>{e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1},setToken(e,t){e.authorization=t,u(l,t)},clearToken(e){e.authorization="",c(l)},setCollapse(e,t){e.sidebar.collapse=t,u(m,t)},clearCollapse(e){e.sidebar.collapse="",c(m)},TOGGLE_DEVICE(e,t){e.device=t}},h={closeSideBar({commit:e},{withoutAnimation:t}){e("CLOSE_SIDEBAR",t)},setToken({commit:e,dispatch:t},a){t("clearToken"),e("setToken",a)},clearToken({commit:e}){e("clearToken"),e("account/clearUserinfo","",{root:!0}),e("tags/CLEAR_ALL_TAGS","",{root:!0}),e("menu/setMenuMap",[],{root:!0}),e("router/CLEAR_GETRULES_STATUS",!1,{root:!0}),localStorage.removeItem("menuTree")}};var g={namespaced:!0,state:d,mutations:p,actions:h},f=(a(7658),a(541),a(6470),a(3126)),T=a.n(f);let L="http://gateway.hidowell.seevin.com";var S=L;var A=a(9669),I=a.n(A),_=a(4720),v=a(129),y=a.n(v),C=a(9750);class M{constructor(e=S){this.baseUrl=e,this.queue={},this.baseConfig={baseURL:e,timeout:1e5,headers:{},paramsSerializer:function(e){return e=e||{},y().stringify(e)},withCredentials:!1}}interceptors(e,t){e.interceptors.request.use((e=>{const a=window.localStorage[l],n=localStorage.getItem("middleActiveMenuID");n&&(e.headers["menuID"]=n);const o=localStorage.getItem("dingAuthCode");return o&&(e.headers["dingCode"]=o),a&&(e.headers["Authorization"]=`Bearer ${a}`),e.headers["menuSign"]=localStorage.getItem("middleCurentMenuSign"),e.headers["client"]="middle",this.queue[t]=!0,e}),(e=>Promise.reject(e))),e.interceptors.response.use((e=>{this.destroy(t);const{data:a,status:n}=e;return"401"!=a.code&&"403"!=a.code||(F.dispatch("app/clearToken"),_.Message.closeAll()),{data:a,status:n}}),(e=>(this.destroy(t),Promise.reject(e))))}destroy(e){delete this.queue[e],Object.keys(this.queue).length}requestAction(e,t,a,n={}){const{menuID:o="",showMessage:s=!0}=n;o&&(this.baseConfig.headers["menuID"]=o);let r=I().create(this.baseConfig);return this.interceptors(r,e),new Promise(((o,i)=>{r.request({url:e,method:t,responseType:n.responseType?n.responseType:"",["get"===t?"params":"data"]:a}).then((e=>{let t=e.data;200==t.code||201==t.code?o(t):(i(t),s&&_.Message.error({message:t.msg}))})).catch((e=>{s&&_.Message.error({message:e||"Has Error"}),i(e)}))}))}request(e){let t,a,n,o=e.axios;a=e.success,n=e.finally,t=e.fail&&"function"===typeof e.fail?e.fail:function(e){e.msg?_.Message.error({message:e.msg}):console.error(e)};let s=I().create(this.baseConfig);return this.interceptors(s,e.url),s.request(o).then((e=>{let n=e.data;200==n.code||201==n.code?a.call(this,n):t.call(this,n)})).catch((e=>{t.call(this,e)})).finally((()=>{"function"===typeof n&&n.call(this)}))}requestExport(e){let t=I().create(this.baseConfig);if(!e.token){const t=window.localStorage[l];t&&(e.token=t);const a=localStorage.getItem("dingAuthCode");a&&(e.dingCode=a)}let a=e.url,n=e.token;return t.get(a,{headers:{token:n},responseType:"blob",params:e.params}).then((t=>{if(!t)return;let a=new Blob([t.data],{type:"application/vnd.ms-excel;charset=utf-8"}),n=window.URL.createObjectURL(a),o=document.createElement("a");o.style.display="none",o.href=n;let s="tabel.xlsx";return e.fileName&&(s=e.fileName),o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),!0})).catch((e=>{_.Message.error({message:e})}))}}var b=new M;a(452),a(5743),a(5957),a(1148),a(8214),a(8269);T().title;const w={loginByPwd:"/user/login/employee/pwd",loginBySmsCode:"/user/login/employee/sms",captcha:"/user/login/captcha",sendMsgCode:"/base/ali/sms/get",initPwd:"/user/initPwd",verifySmsCode:"/base/ali/sms/verify",updatePwd:"/user/login/resetPwd",userInfo:"/user/employee/currentInfo",userInfoByAuthCode:"/user/login/employee/dingtalk"},E=()=>b.requestAction(w.userInfo,"get"),P=e=>b.requestAction(w.userInfoByAuthCode,"post",e),O={userInfo:null,token:""},D={setUserinfo(e,t){e.userInfo=t},clearUserinfo(e){e.userInfo=null}},k={async getUserinfo({commit:e}){const{code:t,data:a}=await E();if(200===+t)return e("setUserinfo",a),e("menu/setMenuMap",a.menuTree,{root:!0}),e("menu/setRouteNameMap",a.menuTree,{root:!0}),e("menu/setMenuBtn",a.menuButtonSigns,{root:!0}),Promise.resolve(a)},async getUserInfoByAuthCode({commit:e},t){const{code:a,data:n}=await P({requestAuthCode:t});if(200===+a)return e("app/setToken",n.token,{root:!0}),e("setUserinfo",n),e("menu/setMenuMap",n.menuTree,{root:!0}),e("menu/setRouteNameMap",n.menuTree,{root:!0}),e("menu/setMenuBtn",n.menuButtonSigns,{root:!0}),Promise.resolve(n)}};var G={namespaced:!0,state:O,mutations:D,actions:k};const R={menus:[],menuButtonSigns:[],curentActiveMenu:"",breadcrumbList:[],activeMenuID:"",curentMenuSign:"",cacheList:[],routeNameMap:{}},B={filteredMenus(e){let t=JSON.parse(JSON.stringify(e.menus));for(let a of t)if(a.children&&a.children.length)for(let e of a.children)e.children&&delete e.children;return t}},N={setMenuMap(e,t){e.menus=t,localStorage.setItem("middleMenuTree",JSON.stringify(e.menus))},setMenuBtn(e,t){e.menuButtonSigns=t},setCurrentMenu(e,t){e.curentActiveMenu=t},pageCrumb(e,t){e.breadcrumbList=t},setActiveMenuID(e,t){e.activeMenuID=t,localStorage.setItem("middleActiveMenuID",e.activeMenuID)},setCurrentMenuSign(e,t){e.curentMenuSign=t,localStorage.setItem("middleCurentMenuSign",e.curentMenuSign)},setCacheList(e,t){e.cacheList=t},setRouteNameMap(e,t){let a={};for(let n of t)if(a[n.menuSign]=!0,n.children&&n.children.length>0)for(let e of n.children)a[e.menuSign]=!0;e.routeNameMap=a}};var U={namespaced:!0,state:R,getters:B,mutations:N};const q="ADMIN-TAGLIST",x={tagList:i(q)||[],activePosition:-1},Z={ADD_TAG_LIST:(e,{path:t,fullPath:a,name:n,meta:o,params:s,query:r})=>{if(e.tagList.some((e=>e.path===t)))return!1;const i=Object.assign({},{path:t,fullPath:a,name:n,meta:o,params:s,query:r},{title:o.title||"未命名",fullPath:a||t});-1===e.activePosition?"home"===n?e.tagList.map((e=>e.name)).includes("home")||e.tagList.unshift(i):e.tagList.push(i):e.tagList.splice(e.activePosition+1,0,i),u(q,e.tagList)},DEL_TAG_LIST:(e,t)=>{e.tagList=e.tagList.filter((e=>e.path!==t.path)),u(q,e.tagList)},DEL_OTHER_TAG_LIST:(e,t)=>{e.tagList=e.tagList.filter((e=>!!e.meta.affix||e.path===t.path)),u(q,e.tagList)},DEL_SOME_TAG_LIST:(e,t)=>{e.tagList=e.tagList.filter((e=>!!e.meta.affix||t.every((t=>t.path!==e.path)))),u(q,e.tagList)},DEL_ALL_TAG_LIST:e=>{e.tagList=e.tagList.filter((e=>!!e.meta.affix)),c(q)},CLEAR_ALL_TAGS:e=>{e.tagList=[],c(q)},UPDATE_TAG_LIST:(e,t)=>{const a=e.tagList.findIndex((e=>e.path===t.path));a>-1&&(e.tagList[a]=Object.assign({},e.tagList[a],t),u(q,e.tagList))},SAVE_ACTIVE_POSITION:(e,t)=>{e.activePosition=t}},j={saveActivePosition({commit:e},t){e("SAVE_ACTIVE_POSITION",t)},addTag({commit:e},t){e("ADD_TAG_LIST",t)},delTag({commit:e},t){e("DEL_TAG_LIST",t)},delOtherTags({commit:e},t){e("DEL_OTHER_TAG_LIST",t)},delSomeTags({commit:e},t){e("DEL_SOME_TAG_LIST",t)},delAllTags({commit:e}){e("DEL_ALL_TAG_LIST")},updateTagList({commit:e},{path:t,fullPath:a,name:n,meta:o,params:s,query:r}){e("UPDATE_TAG_LIST",{path:t,fullPath:a,name:n,meta:o,params:s,query:r})}};var z={namespaced:!0,state:x,mutations:Z,actions:j};const J={routers:C.WC,hasGetRules:!1},V={CONCAT_ROUTES(e,t){e.routers=t.concat(C.WC),e.hasGetRules=!0},CLEAR_GETRULES_STATUS(e,t){e.hasGetRules=t}},H=(e,t,a=!0)=>e.filter((e=>!!(a?t[e.name]:t[e.meta.activeMenu]))),W={generateRoutes({commit:e},t){return new Promise(((a,n)=>{try{let n=[];n=H(C.aP,t),e("CONCAT_ROUTES",n),a(J.routers)}catch(o){n(o)}}))}};var K={namespaced:!0,state:J,mutations:V,actions:W};n["default"].use(o.ZP);const $=new o.ZP.Store({modules:{app:g,account:G,menu:U,tags:z,router:K},getters:r});var F=$},2480:function(){},4654:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[407,114],(function(){return t(9102)}));e.O()}]);